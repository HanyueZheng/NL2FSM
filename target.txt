( start, Reset, Error-Active ) ( Error-Active, REC > 127 or TEC > 127, Error-Passive ) ( Error-Passive, REC < 127 or TEC < 127, Error-Active ) ( Error-Passive, TEC > 255, Bus-Off ) ( Bus-Off 128 Occurrences of 11 Consecutive “ Recessive ” Bits )

( Start , None , Are any TXREQ(TXBnCTRL[3]) BITS = 1 ? ) ( Are any TXREQ(TXBnCTRL[3]) BITS = 1 ? , No , Are any TXREQ(TXBnCTRL[3]) BITS = 1 ? ) ( Are any TXREQ(TXBnCTRL[3]) BITS = 1 ? , Yes , Clear : ABTF(TXBnCTRL[6]) MLOA(TXBnCTRL[5]) TXERR(TXBnCTRL[4]) ) ( Clear : ABTF(TXBnCTRL[6]) MLOA(TXBnCTRL[5]) TXERR(TXBnCTRL[4]) , None , Is CAN bus avaliable to start transmission ? ) ( Is CAN bus avaliable to start transmission ? , No, Is TXREQ = 0 OR ABAT = 1 ? ) ( Is TXREQ = 0 OR ABAT = 1 ? , No , Is CAN bus avaliable to start transmission ? ) ( Is TXREQ = 0 OR ABAT = 1 ? , Yes, GOTO START ) ( Is CAN bus avaliable to start transmission ? , Yes , Examine TXP[1:0](TXBnCTRL[1:0]) to determine highest priority message ) ( Examine TXP[1:0] ( TXBnCTRL[1:0] ) to determine highest priority message , None , Transmit Message ) ( Transmit Message , None , Was Message Transmitted Successfully ? ) ( Was Message Transmitted Successfully ? , Yes, Clear TXREQ bit ) ( Clear TXREQ bit , None , TXnlE(CANINTE = 1 ?) ) ( TXnlE(CANINTE = 1 ?) , No , Set TXnIF(CANTINF) ) ( Set TXnIF(CANTINF) , None , GOTO START ) ( TXnlE(CANINTE = 1 ? ) , Yes , Generate Interrupt ) ( Generate Interrupt , None , Set TXnIF(CANTINF) ) ( Was Message Transmitted Successfully ? , No, Message error or lost arbitration ? ) ( Message error or lost arbitration ? , Lost Arbitration , Set MLOA(TXBnCTRL5]) ) ( Set MLOA(TXBnCTRL5]) , None , GOTO START ) ( Message error or lost arbitration ? , Message Error , Set TXERR(TXBnCTRL[4]) ) ( TXERR(TXBnCTRL[4]) , None , MERRE(CANINTE) ? ) ( MERRE(CANINTE) ? , No , Set MERRF(CANTINF) ) ( Set MERRF(CANTINF) , None , GOTO START ) ( MERRE(CANINTE) ? , Yes , Generate Interrupt ) ( Generate Interrupt , Set MERRF(CANTINF) )

( From any state , VDD < VPORL Or VIO < VPORL_VIO , Unpowered ( POR ) ) (Unpowered ( POR ) , VDD > VPORH And VIO > VPCRH_VIO And STBY Low , Wake ) ( Unpowered ( POR ) , VDD > VPORH And VIO > VPCRH_VIO And STBY High , Standby ) ( Standby , STBY Low , Wake ) ( Wake , TXD High And Bandgap OK And VDD > VUVH , Normal ) ( Normal , Bandgap not OK Or VDD < VUVL , Wake ) ( Normal , STBY High , Standby ) ( Standby , Bus Dominant > tPDT , Bus Dominant Time Out ) ( Bus Dominant Time Out , Bus Recessive , Standby ) ( TXD Time Out , TXD High And T < TJ(SD) - TJ(HYST) , Normal ) ( Normal , TXD Low > TPDT Or T > TJ(SD),  TXD Time Out )

(Any Mode, VBAT < VBAT_POD AND VCC < VCC_UV, Power on Reset) (Power on Reset, VBAT > VBAT_UV OR VCC > VCC_UV, Stand-by Mode)

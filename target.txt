( start, Reset, Error-Active ) ( Error-Active, REC > 127 or TEC > 127, Error-Passive ) ( Error-Passive, REC < 127 or TEC < 127, Error-Active ) ( Error-Passive, TEC > 255, Bus-Off ) ( Bus-Off 128 Occurrences of 11 Consecutive “ Recessive ” Bits )

( Start , None , Are any TXREQ(TXBnCTRL[3]) BITS = 1 ? ) ( Are any TXREQ(TXBnCTRL[3]) BITS = 1 ? , No , Are any TXREQ(TXBnCTRL[3]) BITS = 1 ? ) ( Are any TXREQ(TXBnCTRL[3]) BITS = 1 ? , Yes , Clear : ABTF(TXBnCTRL[6]) MLOA(TXBnCTRL[5]) TXERR(TXBnCTRL[4]) ) ( Clear : ABTF(TXBnCTRL[6]) MLOA(TXBnCTRL[5]) TXERR(TXBnCTRL[4]) , None , Is CAN bus avaliable to start transmission ? ) ( Is CAN bus avaliable to start transmission ? , No, Is TXREQ = 0 OR ABAT = 1 ? ) ( Is TXREQ = 0 OR ABAT = 1 ? , No , Is CAN bus avaliable to start transmission ? ) ( Is TXREQ = 0 OR ABAT = 1 ? , Yes, GOTO START ) ( Is CAN bus avaliable to start transmission ? , Yes , Examine TXP[1:0](TXBnCTRL[1:0]) to determine highest priority message ) ( Examine TXP[1:0] ( TXBnCTRL[1:0] ) to determine highest priority message , None , Transmit Message ) ( Transmit Message , None , Was Message Transmitted Successfully ? ) ( Was Message Transmitted Successfully ? , Yes, Clear TXREQ bit ) ( Clear TXREQ bit , None , TXnlE(CANINTE = 1 ?) ) ( TXnlE(CANINTE = 1 ?) , No , Set TXnIF(CANTINF) ) ( Set TXnIF(CANTINF) , None , GOTO START ) ( TXnlE(CANINTE = 1 ? ) , Yes , Generate Interrupt ) ( Generate Interrupt , None , Set TXnIF(CANTINF) ) ( Was Message Transmitted Successfully ? , No, Message error or lost arbitration ? ) ( Message error or lost arbitration ? , Lost Arbitration , Set MLOA(TXBnCTRL5]) ) ( Set MLOA(TXBnCTRL5]) , None , GOTO START ) ( Message error or lost arbitration ? , Message Error , Set TXERR(TXBnCTRL[4]) ) ( TXERR(TXBnCTRL[4]) , None , MERRE(CANINTE) ? ) ( MERRE(CANINTE) ? , No , Set MERRF(CANTINF) ) ( Set MERRF(CANTINF) , None , GOTO START ) ( MERRE(CANINTE) ? , Yes , Generate Interrupt ) ( Generate Interrupt , Set MERRF(CANTINF) )

( From any state , VDD < VPORL Or VIO < VPORL_VIO , Unpowered ( POR ) ) (Unpowered ( POR ) , VDD > VPORH And VIO > VPCRH_VIO And STBY Low , Wake ) ( Unpowered ( POR ) , VDD > VPORH And VIO > VPCRH_VIO And STBY High , Standby ) ( Standby , STBY Low , Wake ) ( Wake , TXD High And Bandgap OK And VDD > VUVH , Normal ) ( Normal , Bandgap not OK Or VDD < VUVL , Wake ) ( Normal , STBY High , Standby ) ( Standby , Bus Dominant > tPDT , Bus Dominant Time Out ) ( Bus Dominant Time Out , Bus Recessive , Standby ) ( TXD Time Out , TXD High And T < TJ(SD) - TJ(HYST) , Normal ) ( Normal , TXD Low > TPDT Or T > TJ(SD),  TXD Time Out )

( Any Mode, VBAT < VBAT_POD AND VCC < VCC_UV, Power on Reset) (Power on Reset, VBAT > VBAT_UV OR VCC > VCC_UV, Stand-by Mode)

( Boot , None , Read EPROM Global Config ) ( Read EPROM Global Config , None , Use config Select Pins ? ) ( Use config Select Pins ? , NO , Boot Index = EPROM Boot Index ) ( Boot Index = EPROM Boot Index , None , Load CP2114 Config from EPROM ) ( Load CP2114 Config from EPROM , None , Program codec registers over I2C ) ( Program codec registers over I2C , None , Enumerate USB ) ( Enumerate USB , None , Low Power Suspend waiting for USB traffic) ( Use config Select Pins ? , YES , Boot Index = Config Select Pins ) ( Boot Index = Config Select Pins , None , Boot Index = 0x0E ? ) ( Boot Index = 0x0E ? , YES , Boot Index = EPROM Boot Index ) ( Boot Index = 0x0E ? , NO , Boot Index = 0x0F ? ) ( Boot Index = 0x0F ? , NO , Load CP2114 Config from EPROM ) (  Boot Index = 0x0F ? , YES , Load the Default Config ) ( Load the Default Config , None , Enumerate USB )

( Idle , None , Idle ) ( Idle , None , Write Command Register ) ( Write Data Register , None , Write Command Register ) ( Write Command Register , None , Read Command Register ) ( Read Command Register , None , Read Command Register ) ( Read Command Register , Busy Bit = 0 , Idle )

( Idle , None , Idle ) ( Idle , None , Write Command Register ) ( Write Command Register , None , Read Command Register ) ( Read Command Register , None , Read Command Register ) ( Read Command Register , Busy Bit = 0 , Read Data Register ) ( Read Command Register , None , Idle )

( Start , !VBUS_DET ( Any state ) , UNPOWERED ) ( UNPOWERED , VBUS_DET Asserted , NORMAL ( Unconfigured ) ) ( Start , ( POR || nRESET || USB Reset || SRST ) && VBUS_DET ) , NORMAL ( Unconfigured ) ) ( NORMAL ( Unconfigured ) , Configured , NORMAL ( Configured ) ) ( NORMAL ( Configured ) , Deconfigured , NORMAL ( Unconfigured ) ) ( NORMAL ( Configured ) , USB Suspend , SUSPEND2 ) ( SUSPEND2 , USB Resume || GPIO, NORMAL ( Unconfigured ) ) ( NORMAL ( Configured ) , USB Suspend , SUSPEND0 ) ( SUSPEND0 , USB Resume || WOL || GPIO , NORMAL ( Configured )) ( NORMAL ( Configured ) , USB Suspend , SUSPEND1 ) ( SUSPEND1 , USB Resume || Energy Detect || GPIO , NORMAL ( Configured ) ) ( NORMAL ( Configured ) , USB Suspend , SUSPEND3 ) ( SUSPEND3 , USB Resume || Frame Received || GPIO , NORMAL ( Configured ) ) ( NORMAL ( Configured ) , USB Suspend , SUSPEND2 ) ( SUSPEND2 , USB Resume || GPIO , NORMAL ( Configured ) )

( tw_timer <= 0 carrier <= OFF , PHY LPI request = 1 , tw_timer <= 0 carrier <= ON) ( tw_timer <= 0 carrier <= ON , PHY LPI request = 0 , start tw_timer carrier <= ON ) ( start tw_timer carrier <= ON , None , tw_timer <= 0 carrier <= OFF )

( Start , !VBUS_DET ( Any state ) , UNPOWERED ) ( UNPOWERED , VBUS_DET Asserted , NORMAL ( Unconfigured ) ) ( Start , ( POR || RESET N || USB Reset || SRST ) && VBUS_DET ) , NORMAL ( Unconfigured ) ) ( NORMAL ( Unconfigured ) , Configured , NORMAL ( Configured ) ) ( NORMAL ( Configured ) , Deconfigured , NORMAL ( Unconfigured ) ) ( NORMAL ( Configured ) , USB Suspend , SUSPEND2 ) ( SUSPEND2 , USB Resume || GPIO, NORMAL ( Configured ) ) ( NORMAL ( Configured ) , USB Suspend , SUSPEND0 / SUSPNED1 ) ( SUSPEND0 / SUSPEND1 , USB Resume || PHY Linkup || WOL || Energy Detect || EEE Wake || GPIO , NORMAL ( Configured )) ( NORMAL ( Configured ) , USB Suspend , SUSPEND3 ) ( SUSPEND3 , USB Resume || WOL || Frame Received || EEE Wake || GPIO , NORMAL ( Configured ) ) ( NORMAL ( Unconfigured ) , USB Suspend , SUSPEND2 ) ( SUSPEND2 , USB Resume || GPIO , NORMAL ( Unconfigured ) )

( Start , POR || nRESET || USB Reset || SRST , NORMAL ( Unconfigured ) ) ( NORMAL ( Unconfigured ) , Configured , NORMAL ( Configured ) ) ( NORMAL ( Configured ) , Deconfigured , NORMAL ( Unconfigured ) ) ( NORMAL ( Configured ) , USB Suspend , SUSPEND2 ) ( SUSPEND2 , USB Resume || GPIO, NORMAL ( Unconfigured ) ) ( NORMAL ( Configured ) , USB Suspend , SUSPEND0 ) ( SUSPEND0 , USB Resume || WOL || GPIO , NORMAL ( Configured )) ( NORMAL ( Configured ) , USB Suspend , SUSPEND1 ) ( SUSPEND1 , USB Resume || Energy Detect || GPIO , NORMAL ( Configured ) ) ( NORMAL ( Configured ) , USB Suspend , SUSPEND3 ) ( SUSPEND3 , USB Resume || Frame Received || GPIO , NORMAL ( Configured ) ) ( NORMAL ( Configured ) , USB Suspend , SUSPEND2 ) ( SUSPEND2 , USB Resume || GPIO , NORMAL ( Configured ) )

( HW_INIT , None , Run from Internal ROM ) ( Run from Internal ROM , None , CFG_SEL[1:0] = 11b ) ( CFG_SEL[1:0] = 11b , No , SMBus or I2C Present ) ( CFG_SEL[1:0] = 11b , Yes , Config Load From I2C ) ( Config Load From I2C , None , Combine OTP Config Data ) ( SMBus or I2C Present , No , Config Load From Internal ROM ) ( Config Load From Internal ROM , None , Combine OTP Config Data ) ( Combine OTP Config Data , SW Upstream BC detection ( CHGDET ) ) ( SW Upstream BC detection ( CHGDET ) , None , Hub Connect ) ( Hub Connect , None , Normal operation ) ( SMBus or I2C Present , Yes , Do SMBus or I2C Initialization ) ( Do SMBus or I2C Initialization , None , SOC Done ? ) ( SOC Done ? , No , Do SMBus or I2C Initialization ) ( SOC Done ? , Yes , Combine OTP Config Data )

( HW_INIT , None , External SPI ROM present ? ) (  External SPI ROM present ? , Yes , Run From External SPI ROM ) (  External SPI ROM present ? , No ,  Run from Internal ROM ) ( Run from Internal ROM , None , SMBus or I2C Present ? ) (  Run from External SPI ROM present , None , SMBus or I2C Present ? ) ( SMBus or I2C Present ? , Yes , Do SMBus or 12C Initialization ) ( Do SMBus or 12C Initialization , None , SOC Done )  ( SOC Done , No , Do SMBus or 12C Initialization ) ( SOC Done , Yes , Combine OTP Config Data ) ( SMBus or I2C Present ? , No , Config Load From Internal ROM ) ( Config Load From Internal ROM , None , Combine OTP Config Data ) ( Combine OTP Config Data , None , SW Upstream BC detection ( CHGDET ) ) ( SW Upstream BC detection ( CHGDET ) , None , Hub Connect ) ( Hub Connect , None , Normal operation )

( RESET_N deasserted , None , In SPI Mode & Ext. SPI ROM present ? ) ( In SPI Mode & Ext. SPI ROM present ? , Yes , Run From External SPI ROM ) ( In SPI Mode & Ext. SPI ROM present ? , No , Load Config from Internal ROM ) ( Load Config from Internal ROM , None , Modify Config Based on Straps ) ( Modify Config Based on Straps , None , Configuration 5 ? ) ( Configuration 5 ? , Yes , SMBus2 Pull-ups ? ) ( Configuration 5 ? , No , Combine OTP Config Data ) ( Run From External SPI ROM , None , SMBus2 Pull-ups ? ) ( SMBus2 Pull-ups ? , Yes , Perform SMBus / I2C Initialization ) ( Perform SMBus / I2C Initialization , None , SOC Done ? ) ( SOC Done ? , No , Perform SMBus / I2C Initialization ) ( SOC Done ? , Yes , Combine OTP Config Data ) ( SMBus2 Pull-ups ? , No , Combine OTP Config Data ) ( Combine OTP Config Data , None , Hub Connect ) ( Hub Connect , None , Normal Operation )

( RESET_N deasserted , None , In SPI Mode & Ext SPI ROM present ? ) ( In SPI Mode & Ext SPI ROM present ? , Yes , Run From External SPI ROM ) ( In SPI Mode & Ext SPI ROM present ? , No , Load Config from Internal ROM ) ( Load Config from Internal ROM , None , Modify Config Based on Config Straps ) ( Run From External SPI ROM , None , SMBus Host Present ? ) ( Modify Config Based on Config Straps, None , SMBus Host Present ? ) ( SMBus Host Present ? , Yes , Perform SMBus/I2C Initialization ) ( Perform SMBus/I2C Initialization , None , SOC Done ? ) ( SOC Done ? , No , Perform SMBus / I2C Initialization ) ( SOC Done ? , Yes , Combine OTP Config Data ) ( SMBus Host Present ? , No , Combine OTP Config Data ) ( Combine OTP Config Data , None , Hub Connect ) ( Hub Connect , None , Normal operation )

( RESET_N deasserted , None , SPI Signature Present ? ) ( SPI Signature Present ? , Yes , Run From External ROM ) ( Run From External ROM , None , Load Config From External ROM ) ( Load Config From External ROM , None , Modify Config Based on pseudo OTP ) ( Modify Config Based on pseudo OTP , None , Hub Connect ) ( SPI Signature Present ? , No , Load Config from Internal ROM ) (  Load Config from Internal ROM , None , Modify Config Based on OTP ) ( Modify Config Based on OTP , CFG_STRAP for SMBus Stave ? ) ( CFG_STRAP for SMBus Stave ? , Yes , Do SMBus or I2C initialization ) ( Do SMBus or I2C initialization , None , SOC Done ? ) ( SOC Done , No ,  Do SMBus or I2C initialization ) ( SOC Done ? , Yes , Combine OTP Config Data )  ( CFG_STRAP for SMBus Stave ? , No, Combine OTP Config Data ) ( Combine OTP Config Data , Hub Connect ) ( Hub Connect , None , NORMAL_operation )

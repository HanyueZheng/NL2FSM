(Write Tx FIFO, None,  Message8 Message7 Message6 Message5 Message4 Message3 Message2 Message1) (Message8 Message7 Message6 Message5 Message4 Message3 Message2 Message1, None, TXEN = 1? ) ( TXEN = 1?, No, TX1M = 1? ) ( TX1M = 1?, No, TXEN = 1? ) (TX1M = 1?,  Yes, Load Transmit Buffer with next message) (TXEN = 1?, Yes, Load Transmit Buffer with next message) (Load Transmit Buffer with next message, None, Transmit Buffer) (Transmit Buffer, None, Is CAN bus available?) (Is CAN bus available?, No, Transmit Buffer keeps current message) (Transmit Buffer keeps current message, None, Transmit Buffer) (Is CAN bus available?, YES, Transmit message) (Transmit message, None, Successful message transmission?) (Successful message transmission?, Yes, Write Transmit History FIFO) (Write Transmit History FIFO, None, TXEN = 1?) (Successful message transmission?, No, Message error or lost arbitration?) (Message error or lost arbitration?, Lost arbitration, Transmit Buffer keeps current message) (Message error or lost arbitration?, Message error, Set BUSERR flag) (Is BUSERRIE set?, No, Transmit Buffer keeps current message) (Is BUSERRIE set?, Yes, Generate Interrupt at pin) (Generate Interrupt at pin, None, Transmit Buffer keeps current message)

(Any Mode, VBAT < VBAT_POD AND VCC < VCC_UV, Power on Reset) (Power on Reset, VBAT > VBAT_UV OR VCC > VCC_UV, Stand-by Mode)

(start, Reset, Error-Active)(Error-Active, REC > 127 or TEC > 127, Error-Passive)(Error-Passive, REC < 127 or TEC < 127, Error-Active)(Error-Passive, TEC > 255, Bus-Off)(Bus-Off 128 Occurrences of 11 Consecutive “Recessive” Bits)

(Start, None, Are any TXREQ(TXBnCTRL[3]) BITS = 1?)(Are any TXREQ(TXBnCTRL[3]) BITS = 1?, No, Are any TXREQ(TXBnCTRL[3]) BITS = 1?)(Are any TXREQ(TXBnCTRL[3]) BITS = 1?, Yes, Clear: ABTF(TXBnCTRL[6])MLOA(TXBnCTRL[5])TXERR(TXBnCTRL[4]))(Clear: ABTF(TXBnCTRL[6])MLOA(TXBnCTRL[5])TXERR(TXBnCTRL[4]), None, Is CAN bus avaliable to start transmission?)(Is CAN bus avaliable to start transmission?, No, Is TXREQ = 0 OR ABAT = 1?)(Is TXREQ = 0 OR ABAT = 1?, No, Is CAN bus avaliable to start transmission?)(Is TXREQ = 0 OR ABAT = 1?, Yes, GOTO START)(Is CAN bus avaliable to start transmission?, Yes, Examine TXP[1:0](TXBnCTRL[1:0]) to determine highest priority message)(Examine TXP[1:0](TXBnCTRL[1:0]) to determine highest priority message, None, Transimit Message)(Transimit Message, None, Was Message Transmitted Successfully?)(Was Message Transmitted Successfully?, Yes, Clear TXREQ bit)(Clear TXREQ bit, None, TXnlE(CANINTE = 1?))(TXnlE(CANINTE = 1?, No, Set TXnIF(CANTINF))(Set TXnIF(CANTINF), None, GOTO START)(TXnlE(CANINTE = 1?), Yes, Generate Interrupt)(Generate Interrupt), None, Set TXnIF(CANTINF))(Was Message Transmitted Successfully?, No, Message error or lost arbitration?)(Message error or lost arbitration?, Lost Arbitration, Set MLOA(TXBnCTRL5]))(Set MLOA(TXBnCTRL5]), None, GOTO START)(Message error or lost arbitration?, Message Error, Set TXERR(TXBnCTRL[4]))(TXERR(TXBnCTRL[4]), None, MERRE(CANINTE)?)(MERRE(CANINTE)?, No, Set MERRF(CANTINF))(Set MERRF(CANTINF), None, GOTO START)(MERRE(CANINTE)?, Yes, Generate Interrupt)(Generate Interrupt, Set MERRF(CANTINF))
